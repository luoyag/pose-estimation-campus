# Python 版本切换和使用说明

## 当前状态

✅ 已创建 Python 3.11 虚拟环境  
✅ 已安装所有依赖（包括 mediapipe）

## 如何切换和使用

### 方法 1：使用虚拟环境（推荐）

每次使用项目时，先激活虚拟环境：

**如果 PowerShell 执行策略允许：**
```powershell
# 进入项目目录
cd E:\test_cursor

# 激活虚拟环境（PowerShell）
.\venv\Scripts\Activate.ps1
```

**如果 PowerShell 执行策略受限（使用 CMD 或批处理文件）：**
```cmd
# 使用 CMD 或批处理文件激活
.\venv\Scripts\activate.bat
```

**验证 Python 版本（应该是 3.11.9）：**
```powershell
python --version
```

**现在可以运行项目了：**
```powershell
python main.py --input 0
```

### 方法 2：直接使用 Python 启动器（无需激活）

如果不想激活虚拟环境，可以直接使用：

```powershell
# 使用虚拟环境中的 Python 运行
.\venv\Scripts\python.exe main.py --input 0
```

### 方法 3：在 IDE 中配置

如果你使用 VS Code 或其他 IDE：

1. **VS Code**：
   - 按 `Ctrl+Shift+P`
   - 输入 "Python: Select Interpreter"
   - 选择 `.\venv\Scripts\python.exe`

2. **PyCharm**：
   - File → Settings → Project → Python Interpreter
   - 选择 `.\venv\Scripts\python.exe`

## 切换 Python 版本的方法

### 查看已安装的 Python 版本

```powershell
py --list
```

### 使用特定版本运行脚本

```powershell
# 使用 Python 3.11
py -3.11 script.py

# 使用 Python 3.13
py -3.13 script.py
```

### 创建不同版本的虚拟环境

```powershell
# Python 3.11 环境（当前项目）
py -3.11 -m venv venv

# Python 3.13 环境（如果需要）
py -3.13 -m venv venv313
```

## 常用命令

```powershell
# 激活虚拟环境（选择一种方式）
.\venv\Scripts\Activate.ps1    # PowerShell（需要执行策略允许）
.\venv\Scripts\activate.bat    # CMD 或批处理文件（推荐，无限制）

# 停用虚拟环境
deactivate

# 查看已安装的包
pip list

# 安装新包
pip install package_name

# 运行主程序
python main.py --input 0

# 运行示例
python example.py webcam
```

## 注意事项

1. **每次新开终端**：需要重新激活虚拟环境
2. **PowerShell 执行策略问题**：
   - 如果 `Activate.ps1` 无法运行，使用 `activate.bat` 代替
   - 或者直接使用 `.\venv\Scripts\python.exe` 运行脚本（无需激活）
   - 如果必须使用 PowerShell 脚本，需要管理员权限修改执行策略
3. **虚拟环境位置**：`venv` 文件夹在项目根目录，不要删除
4. **推荐方式**：使用 `activate.bat` 或直接使用 `.\venv\Scripts\python.exe`，避免执行策略问题

## 验证安装

运行测试脚本确认一切正常：

```powershell
python test_imports.py
```

应该看到所有依赖（包括 mediapipe）都显示 `[OK]`。

